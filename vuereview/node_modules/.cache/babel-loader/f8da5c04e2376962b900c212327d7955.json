{"remainingRequest":"E:\\thesisSystem\\合并1.9\\vuereview\\node_modules\\babel-loader\\lib\\index.js!E:\\thesisSystem\\合并1.9\\vuereview\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\thesisSystem\\合并1.9\\vuereview\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\thesisSystem\\合并1.9\\vuereview\\src\\views\\DefenceDecision.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\thesisSystem\\合并1.9\\vuereview\\src\\views\\DefenceDecision.vue","mtime":1640006230430},{"path":"E:\\thesisSystem\\合并1.9\\vuereview\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\thesisSystem\\合并1.9\\vuereview\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\thesisSystem\\合并1.9\\vuereview\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\thesisSystem\\合并1.9\\vuereview\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCByZXF1ZXN0IGZyb20gIkAvdXRpbHMvcmVxdWVzdCI7CmltcG9ydCB7IHJlZiwgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAndnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDb21taXR0ZWVWb3RlIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2lnbjogMCwKICAgICAgLy/mjIfnpLrmmK/lkKbpgInov4diYXRjaAogICAgICBiYXRjaERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBkaXN0aW5jdFllYXI6IFtdLAogICAgICBhY2FkZW1pY1llYXI6ICcnLAogICAgICBzZW1lc3RlcjogJycsCiAgICAgIHR5cGU6ICcnLAogICAgICBiYXRjaDogJycsCiAgICAgIGZvcm06IHsKICAgICAgICBpZDogIiIsCiAgICAgICAgdGhlc2lzaWQ6ICcnLAogICAgICAgIGdyYWRlOiAiIiwKICAgICAgICB5ZXNzZXM6ICIiLAogICAgICAgIG5vZXM6ICIiLAogICAgICAgIGRlY2lzaW9uOiAiIiwKICAgICAgICBjb21tZW50OiAiIiwKICAgICAgICByZWNvcmQ6ICIiLAogICAgICAgIHN0YXR1czogIiIKICAgICAgfSwKICAgICAgbmV3Zm9ybTogewogICAgICAgIHRoZXNpc2lkOiAnJywKICAgICAgICBncmFkZTogIiIsCiAgICAgICAgeWVzc2VzOiAiIiwKICAgICAgICBub2VzOiAiIiwKICAgICAgICBkZWNpc2lvbjogIiIsCiAgICAgICAgY29tbWVudDogIiIsCiAgICAgICAgcmVjb3JkOiAiIgogICAgICB9LAogICAgICBwZGZVcmw6ICIiLAogICAgICBjZW50ZXJEaWFsb2dWaXNpYmxlOiByZWYoZmFsc2UpLAogICAgICAvLyBzZWFyY2g6JycsCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIHRvdGFsOiAwLAogICAgICB0YWJsZURhdGE6IFtdCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuYmF0Y2hEaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFllYXIoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFllYXI6IGZ1bmN0aW9uIGdldFllYXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXF1ZXN0LnB1dCgiL2JhdGNoL2Rpc3RpbmN0WWVhciIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgX3RoaXMuZGlzdGluY3RZZWFyID0gcmVzLmRhdGE7CiAgICAgICAgX3RoaXMudG90YWwgPSByZXMuZGF0YS50b3RhbDsKICAgICAgfSk7CiAgICB9LAogICAgbG9hZDogZnVuY3Rpb24gbG9hZCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgcmVxdWVzdC5nZXQoIi9iYXRjaC9nZXRiYXRjaElEIiwgewogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIHllYXI6IF90aGlzMi5hY2FkZW1pY1llYXIsCiAgICAgICAgICAgIHNlbWVzdGVyOiBfdGhpczIuc2VtZXN0ZXIsCiAgICAgICAgICAgIHR5cGU6IF90aGlzMi50eXBlCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgcmVzb2x2ZShyZXMuZGF0YSk7CiAgICAgICAgfSk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlczEpIHsKICAgICAgICBpZiAocmVzMSA9PSBudWxsKSB7CiAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICBtZXNzYWdlOiAi5LiN5a2Y5Zyo6K+l5om55qyhIgogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJlcXVlc3QuZ2V0KCIvZGVmZW5jZWRlY2lzaW9uIiwgewogICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICBiYXRjaDogcmVzMQogICAgICAgICAgICB9CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgX3RoaXMyLnRhYmxlRGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgICBfdGhpczIudG90YWwgPSByZXMuZGF0YS50b3RhbDsKICAgICAgICAgIH0pOwogICAgICAgICAgX3RoaXMyLmJhdGNoRGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgX3RoaXMyLnNpZ24gPSAxOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgcHJldmlld1BERjogZnVuY3Rpb24gcHJldmlld1BERihyb3cpIHsKICAgICAgdGhpcy5jZW50ZXJEaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5mb3JtID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyb3cpKTsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgY29uc29sZS5sb2cocm93LnVybCk7CiAgICAgIHRoaXMucGRmVXJsID0gIi8iICsgcm93LnVybCArICIucGRmIjsKICAgICAgY29uc29sZS5sb2codGhpcy5wZGZVcmwpOwogICAgfSwKICAgIGdldHJlc3VsdHM6IGZ1bmN0aW9uIGdldHJlc3VsdHMocm93KSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5mb3JtKQogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmZvcm0uZGVjaXNpb24pOwogICAgICB0aGlzLmZvcm0uc3RhdHVzID0gdGhpcy5mb3JtLmRlY2lzaW9uOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmZvcm0uc3RhdHVzKTsKICAgICAgdGhpcy5mb3JtLnRoZXNpc2lkID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyb3cpKS50aGVzaXNpZDsKICAgICAgdGhpcy5mb3JtLmlkID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyb3cpKS5pZDsKICAgICAgdGhpcy5mb3JtID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmZvcm0pKTsKICAgICAgY29uc29sZS5sb2codGhpcy5mb3JtKTsKICAgICAgcmVxdWVzdC5wdXQoIi90aGVzaXMiLCB0aGlzLmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlczIpIHt9KTsKICAgICAgdGhpcy5uZXdmb3JtLnRoZXNpc2lkID0gdGhpcy5mb3JtLnRoZXNpc2lkOwogICAgICB0aGlzLm5ld2Zvcm0uZ3JhZGUgPSB0aGlzLmZvcm0uZ3JhZGU7CiAgICAgIHRoaXMubmV3Zm9ybS55ZXNzZXMgPSB0aGlzLmZvcm0ueWVzc2VzOwogICAgICB0aGlzLm5ld2Zvcm0ubm9lcyA9IHRoaXMuZm9ybS5ub2VzOwogICAgICB0aGlzLm5ld2Zvcm0uY29tbWVudCA9IHRoaXMuZm9ybS5jb21tZW50OwogICAgICB0aGlzLm5ld2Zvcm0ucmVjb3JkID0gdGhpcy5mb3JtLnJlY29yZDsKICAgICAgdGhpcy5uZXdmb3JtLmRlY2lzaW9uID0gdGhpcy5mb3JtLnN0YXR1czsKICAgICAgY29uc29sZS5sb2codGhpcy5uZXdmb3JtKTsKICAgICAgcmVxdWVzdC5wb3N0KCIvZGVmZW5jZWRlY2lzaW9uIiwgdGhpcy5uZXdmb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzMyk7CgogICAgICAgIGlmIChyZXMzLmNvZGUgPT09ICcwJykgewogICAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICBtZXNzYWdlOiAi6K6w5b2V5oiQ5YqfIgogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlczMubXNnCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmxvYWQoKTsKICAgICAgdGhpcy5sb2FkKCk7CiAgICAgIHRoaXMuY2VudGVyRGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICB0aGlzLmxvYWQoKTsKICAgICAgdGhpcy5sb2FkKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["E:\\thesisSystem\\合并1.9\\vuereview\\src\\views\\DefenceDecision.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div style=\"padding:10px\">\r\n    <div style=\"margin: 10px 0\">\r\n      <el-button type=\"primary\" style=\"margin-left: 10px\" @click=\"batchDialogVisible=true\">更改论文批次</el-button>\r\n    </div>\r\n    <el-table :data=\"tableData\" :header-cell-style=\"{background:'#f5f7fa',color:'#02468f'}\" border style=\"width: 95%\">\r\n      <el-table-column prop=\"id\" v-if=false label=\"序号\" align=\"center\" />\r\n      <el-table-column prop=\"thesisid\" label=\"论文编号\" align=\"center\" />\r\n      <el-table-column prop=\"url\" v-if=false label=\"论文地址\"  align=\"center\"/>\r\n      <el-table-column prop=\"title\" label=\"论文题目\" align=\"center\"/>\r\n      <el-table-column prop=\"department\" label=\"所属系\"  align=\"center\"/>\r\n      <el-table-column prop=\"batch\" label=\"批次\" align=\"center\" />\r\n      <el-table-column fixed=\"right\" label=\"上传答辩结果\" width=\"160\" align=\"center\">\r\n        <template #default=\"scope\">\r\n          <el-button type=\"text\" @click=\"previewPDF(scope.row)\">填写</el-button>\r\n          <el-dialog v-model=\"centerDialogVisible\" title=\"上传答辩结果\" width=\"80%\" center>\r\n            <el-scrollbar height=\"400px\">\r\n            <div>\r\n              <iframe :src=\"pdfUrl\" frameborder=\"1\" style=\"width:350px;height:500px;float:left;\"></iframe>\r\n            </div>\r\n        <el-form ref=\"form\" :model=\"form\" >\r\n          <el-form-item label=\"论文题目\">\r\n            <el-input v-model=\"form.title\" disabled></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"论文编号\">\r\n            <el-input v-model=\"form.thesisid\" disabled></el-input>\r\n          </el-form-item>\r\n              <el-form-item label=\"答辩成绩\">\r\n                <el-input v-model=\"form.grade\"></el-input>\r\n              </el-form-item>\r\n          <el-form-item label=\"通过票数\">\r\n            <el-input v-model=\"form.yesses\"></el-input>\r\n          </el-form-item>\r\n            <el-form-item label=\"不通过票数\">\r\n              <el-input v-model=\"form.noes\"></el-input>\r\n            </el-form-item>\r\n\r\n              <el-form-item label=\"答辩结果\">\r\n                <el-radio-group v-model=\"form.decision\">\r\n                  <el-radio label=\"9\">通过</el-radio>\r\n                  <el-radio label=\"10\">上会</el-radio>\r\n                </el-radio-group>\r\n              </el-form-item>\r\n              <el-form-item label=\"答辩意见\">\r\n                <el-input v-model=\"form.comment\" type=\"textarea\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"答辩记录\">\r\n                <el-input v-model=\"form.record\" type=\"textarea\"></el-input>\r\n              </el-form-item>\r\n        </el-form>\r\n            </el-scrollbar>\r\n\r\n            <template #footer>\r\n          <span class=\"dialog-footer\">\r\n            <el-button @click=\"centerDialogVisible = false\">取消</el-button>\r\n            <el-popconfirm\r\n                confirm-button-text=\"是\"\r\n                cancel-button-text=\"否\"\r\n                :icon=\"InfoFilled\"\r\n                icon-color=\"red\"\r\n                title=\"确认结果填写无误？\"\r\n                @confirm=\"getresults(scope.row)\"\r\n                @cancel=\"cancelEvent\">\r\n              <template #reference>\r\n                <el-button>确定</el-button>\r\n              </template>\r\n            </el-popconfirm>\r\n            </span>\r\n            </template>\r\n          </el-dialog>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <el-dialog\r\n        v-model=\"batchDialogVisible\"\r\n        title=\"选择论文批次\"\r\n        width=\"30%\">\r\n      <div style=\"margin:10px 0 \">\r\n        选择学年：<el-select v-model=\"academicYear\" style=\"margin-left: 20px;width: 160px\" placeholder=\"2020-2021\">\r\n        <el-option\r\n            v-for=\"item in distinctYear\"\r\n            :key=\"item.academicYear\"\r\n            :label=\"item.academicYear\"\r\n            :value=\"item.academicYear\"\r\n        >\r\n        </el-option>\r\n      </el-select>\r\n      </div>\r\n      <div style=\"margin:10px 0 \">\r\n        选择学期：\r\n        <el-radio v-model=\"semester\" label=\"第一学期\">第一学期</el-radio>\r\n        <el-radio v-model=\"semester\" label=\"第二学期\">第二学期</el-radio>\r\n      </div>\r\n      <div style=\"margin:10px 0 \">\r\n        选择论文类型：\r\n        <el-radio v-model=\"type\" label=\"学硕\">学硕</el-radio>\r\n        <el-radio v-model=\"type\" label=\"专硕\">专硕</el-radio>\r\n      </div>\r\n      <template #footer>\r\n          <span class=\"dialog-footer\">\r\n            <el-button type=\"primary\" @click=\"load\">确定</el-button>\r\n          </span>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script >\r\nimport request from \"@/utils/request\";\r\nimport { ref, defineComponent } from 'vue'\r\n\r\nexport default{\r\n  name: \"CommitteeVote\",\r\n  data() {\r\n    return {\r\n      sign:0,  //指示是否选过batch\r\n      batchDialogVisible:false,\r\n      distinctYear:[],\r\n      academicYear:'',\r\n      semester:'',\r\n      type:'',\r\n      batch:'',\r\n      form: {\r\n        id:\"\",\r\n        thesisid:'',\r\n        grade: \"\",\r\n        yesses: \"\",\r\n        noes: \"\",\r\n        decision:\"\",\r\n        comment: \"\",\r\n        record: \"\",\r\n        status:\"\"},\r\n      newform: {\r\n        thesisid:'',\r\n        grade: \"\",\r\n        yesses: \"\",\r\n        noes: \"\",\r\n        decision:\"\",\r\n        comment: \"\",\r\n        record: \"\",},\r\n      pdfUrl: \"\",\r\n      centerDialogVisible: ref(false),\r\n      // search:'',\r\n      currentPage: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n      tableData:[],\r\n    }\r\n  },\r\n  created() {\r\n    this.batchDialogVisible=true\r\n  },\r\n  mounted() {\r\n    this.getYear();\r\n  },\r\n  methods: {\r\n    getYear(){\r\n      request.put(\"/batch/distinctYear\").then(res=>{\r\n        console.log(res)\r\n        this.distinctYear=res.data\r\n        this.total=res.data.total\r\n      })\r\n    },\r\n    load() {\r\n      new Promise((resolve,reject)=>{\r\n        request.get(\"/batch/getbatchID\",{\r\n          params:{\r\n            year:this.academicYear,\r\n            semester:this.semester,\r\n            type:this.type\r\n          }\r\n        }).then(res=>{\r\n          console.log(res)\r\n          resolve(res.data)\r\n        })\r\n      }).then(res1=>{\r\n        if (res1==null){\r\n          this.$message({\r\n            type: \"error\",\r\n            message: \"不存在该批次\"\r\n          })\r\n        }else{\r\n          request.get(\"/defencedecision\",{\r\n            params: {\r\n              batch: res1\r\n            }\r\n          }).then(res=>{\r\n            console.log(res)\r\n            this.tableData=res.data\r\n            this.total=res.data.total\r\n          })\r\n          this.batchDialogVisible=false\r\n          this.sign=1\r\n        }\r\n\r\n      })\r\n    },\r\n    previewPDF(row){\r\n      this.centerDialogVisible = true\r\n      this.form=JSON.parse(JSON.stringify(row));\r\n      this.dialogVisible = true;\r\n      console.log(row.url);\r\n      this.pdfUrl=\"/\"+row.url+\".pdf\"\r\n      console.log(this.pdfUrl);\r\n    },\r\n\r\n    getresults(row){\r\n      // console.log(this.form)\r\n      // console.log(this.form.decision);\r\n      this.form.status=this.form.decision\r\n      console.log(this.form.status)\r\n      this.form.thesisid=JSON.parse(JSON.stringify(row)).thesisid;\r\n      this.form.id=JSON.parse(JSON.stringify(row)).id;\r\n      this.form=JSON.parse(JSON.stringify(this.form))\r\n      console.log(this.form)\r\n      request.put(\"/thesis\", this.form).then(res2 => {});\r\n\r\n      this.newform.thesisid=this.form.thesisid\r\n      this.newform.grade=this.form.grade\r\n      this.newform.yesses=this.form.yesses\r\n      this.newform.noes=this.form.noes\r\n      this.newform.comment=this.form.comment\r\n      this.newform.record=this.form.record\r\n      this.newform.decision=this.form.status\r\n      console.log(this.newform)\r\n      request.post(\"/defencedecision\", this.newform).then(res3 => {\r\n        console.log(res3)\r\n        if (res3.code === '0') {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"记录成功\"\r\n          })\r\n        } else {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: res3.msg\r\n          })\r\n        }\r\n      });\r\n      this.load();\r\n      this.load();\r\n      this.centerDialogVisible = false;\r\n      this.load();\r\n      this.load();\r\n    },\r\n\r\n  },\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.el-pagination {\r\n  text-align: center;\r\n}\r\n</style>"],"sourceRoot":""}]}