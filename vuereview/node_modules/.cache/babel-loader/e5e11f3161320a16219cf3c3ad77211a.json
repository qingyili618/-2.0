{"remainingRequest":"D:\\springboot+vue\\vuereview\\node_modules\\babel-loader\\lib\\index.js!D:\\springboot+vue\\vuereview\\src\\components\\pdf\\pdf.js","dependencies":[{"path":"D:\\springboot+vue\\vuereview\\src\\components\\pdf\\pdf.js","mtime":1615517174000},{"path":"D:\\springboot+vue\\vuereview\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\springboot+vue\\vuereview\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3NwcmluZ2Jvb3QrdnVlL3Z1ZXJldmlldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCB7IGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSB9IGZyb20gInZ1ZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IGdldFBkZmpzRGlzdCBmcm9tICcuL2dldFBkZmpzRGlzdCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUGRmJywKICBwcm9wczogewogICAgdXJsOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICB0eXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2NhbnZhcycKICAgIH0sCiAgICBwZGZqc0Rpc3RQYXRoOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJy4nCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGRmVmlld2VyOiBudWxsLAogICAgICBwZGZMaW5rU2VydmljZTogbnVsbCwKICAgICAgY3VycmVudFNjYWxlOiAncGFnZS13aWR0aCcsCiAgICAgIGxvYWRpbmdUYXNrOiBudWxsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb25QYWdlc0luaXQ6IGZ1bmN0aW9uIG9uUGFnZXNJbml0KF9yZWYpIHsKICAgICAgdmFyIHNvdXJjZSA9IF9yZWYuc291cmNlOwogICAgICBzb3VyY2UuY3VycmVudFNjYWxlVmFsdWUgPSB0aGlzLmN1cnJlbnRTY2FsZTsKICAgIH0sCiAgICBwZGZMaWJJbml0OiBmdW5jdGlvbiBwZGZMaWJJbml0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcGRmanNMaWIsIHBkZmpzVmlld2VyLCBjb250YWluZXIsIGV2ZW50QnVzLCBwZGZMaW5rU2VydmljZSwgcGRmVmlld2VyOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBkZmpzTGliID0gd2luZG93LnBkZmpzTGliOwogICAgICAgICAgICAgICAgcGRmanNWaWV3ZXIgPSB3aW5kb3cucGRmanNWaWV3ZXI7CgogICAgICAgICAgICAgICAgaWYgKCEoIXBkZmpzTGliIHx8ICFwZGZqc1ZpZXdlcikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGdldFBkZmpzRGlzdChfdGhpcy5wZGZqc0Rpc3RQYXRoKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX3RoaXMuQ01BUF9VUkwgPSAiIi5jb25jYXQoX3RoaXMucGRmanNEaXN0UGF0aCwgIi9wZGYvY21hcHMvIik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy5DTUFQX1VSTCk7CiAgICAgICAgICAgICAgICBwZGZqc0xpYiA9IHdpbmRvdy5wZGZqc0xpYjsKICAgICAgICAgICAgICAgIHBkZmpzTGliLkdsb2JhbFdvcmtlck9wdGlvbnMud29ya2VyU3JjID0gIiIuY29uY2F0KF90aGlzLnBkZmpzRGlzdFBhdGgsICIvcGRmL2J1aWxkL3BkZi53b3JrZXIuanMiKTsKICAgICAgICAgICAgICAgIHBkZmpzVmlld2VyID0gd2luZG93LnBkZmpzVmlld2VyOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTM7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBjb250YWluZXIgPSBfdGhpcy4kcmVmcy5jb250YWluZXI7CiAgICAgICAgICAgICAgICBldmVudEJ1cyA9IG5ldyBwZGZqc1ZpZXdlci5FdmVudEJ1cygpOyAvLyAoT3B0aW9uYWxseSkgZW5hYmxlIGh5cGVybGlua3Mgd2l0aGluIFBERiBmaWxlcy4KCiAgICAgICAgICAgICAgICBwZGZMaW5rU2VydmljZSA9IG5ldyBwZGZqc1ZpZXdlci5QREZMaW5rU2VydmljZSh7CiAgICAgICAgICAgICAgICAgIGV2ZW50QnVzOiBldmVudEJ1cwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfdGhpcy5wZGZMaW5rU2VydmljZSA9IHBkZkxpbmtTZXJ2aWNlOwogICAgICAgICAgICAgICAgcGRmVmlld2VyID0gbmV3IHBkZmpzVmlld2VyLlBERlZpZXdlcih7CiAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyLAogICAgICAgICAgICAgICAgICBldmVudEJ1czogZXZlbnRCdXMsCiAgICAgICAgICAgICAgICAgIGxpbmtTZXJ2aWNlOiBwZGZMaW5rU2VydmljZSwKICAgICAgICAgICAgICAgICAgcmVuZGVyZXI6IF90aGlzLnR5cGUsCiAgICAgICAgICAgICAgICAgIHRleHRMYXllck1vZGU6IDAsCiAgICAgICAgICAgICAgICAgIGRvd25sb2FkTWFuYWdlcjogbmV3IHBkZmpzVmlld2VyLkRvd25sb2FkTWFuYWdlcih7fSksCiAgICAgICAgICAgICAgICAgIGVuYWJsZVdlYkdMOiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF90aGlzLnBkZlZpZXdlciA9IHBkZlZpZXdlcjsKICAgICAgICAgICAgICAgIHBkZkxpbmtTZXJ2aWNlLnNldFZpZXdlcihwZGZWaWV3ZXIpOwogICAgICAgICAgICAgICAgZXZlbnRCdXMub24oInBhZ2VzaW5pdCIsIF90aGlzLm9uUGFnZXNJbml0KTsKCiAgICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMywgMTNdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJlbmRlclBkZjogZnVuY3Rpb24gcmVuZGVyUGRmKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICghdGhpcy51cmwpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gTG9hZGluZyBkb2N1bWVudC4KCgogICAgICBpZiAodGhpcy5wZGZWaWV3ZXIgPT09IG51bGwgfHwgdGhpcy5wZGZMaW5rU2VydmljZSA9PT0gbnVsbCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMubG9hZGluZ1Rhc2sgIT09IG51bGwpIHsKICAgICAgICB0aGlzLmxvYWRpbmdUYXNrLmRlc3Ryb3koKTsKICAgICAgICB0aGlzLmxvYWRpbmdUYXNrID0gbnVsbDsKICAgICAgfQoKICAgICAgdGhpcy5sb2FkaW5nVGFzayA9IHdpbmRvdy5wZGZqc0xpYi5nZXREb2N1bWVudCh7CiAgICAgICAgY01hcFVybDogdGhpcy5DTUFQX1VSTCwKICAgICAgICBjTWFwUGFja2VkOiB0cnVlLAogICAgICAgIHVybDogdGhpcy51cmwKICAgICAgfSk7CiAgICAgIHJldHVybiB0aGlzLmxvYWRpbmdUYXNrLnByb21pc2UudGhlbihmdW5jdGlvbiAocGRmRG9jdW1lbnQpIHsKICAgICAgICBpZiAocGRmRG9jdW1lbnQubG9hZGluZ1Rhc2suZGVzdHJveWVkIHx8ICFfdGhpczIudXJsKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBfdGhpczIucGRmVmlld2VyLnNldERvY3VtZW50KHBkZkRvY3VtZW50KTsKCiAgICAgICAgX3RoaXMyLnBkZkxpbmtTZXJ2aWNlLnNldERvY3VtZW50KHBkZkRvY3VtZW50LCBudWxsKTsKCiAgICAgICAgX3RoaXMyLmxvYWRpbmdUYXNrID0gbnVsbDsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICB0aGlzLnBkZkxpYkluaXQoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMzLnJlbmRlclBkZigpOwogICAgfSk7CiAgfSwKICB3YXRjaDogewogICAgdXJsOiBmdW5jdGlvbiB1cmwoKSB7CiAgICAgIC8vIOWmguaenOWtmOWcqHBkZlZpZXdlcuWImeWPlua2iOa4suafkwogICAgICBpZiAodGhpcy5wZGZWaWV3ZXIpIHsKICAgICAgICB0aGlzLnBkZlZpZXdlci5fY2FuY2VsUmVuZGVyaW5nKCk7CiAgICAgIH0KCiAgICAgIHRoaXMucmVuZGVyUGRmKCk7CiAgICB9CiAgfSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgIHJldHVybiBfY3JlYXRlVk5vZGUoImRpdiIsIHsKICAgICAgImNsYXNzIjogInBkZi12aWV3IgogICAgfSwgW19jcmVhdGVWTm9kZSgiZGl2IiwgewogICAgICAiaWQiOiAidmlld2VyQ29udGFpbmVyIiwKICAgICAgInJlZiI6ICJjb250YWluZXIiCiAgICB9LCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCB7CiAgICAgICJpZCI6ICJ2aWV3ZXIiLAogICAgICAiY2xhc3MiOiAicGRmVmlld2VyIgogICAgfSwgbnVsbCldKV0pOwogIH0KfTs="},{"version":3,"sources":["D:/springboot+vue/vuereview/src/components/pdf/pdf.js"],"names":["getPdfjsDist","name","props","url","type","String","default","pdfjsDistPath","data","pdfViewer","pdfLinkService","currentScale","loadingTask","methods","onPagesInit","source","currentScaleValue","pdfLibInit","pdfjsLib","window","pdfjsViewer","CMAP_URL","console","log","GlobalWorkerOptions","workerSrc","container","$refs","eventBus","EventBus","PDFLinkService","PDFViewer","linkService","renderer","textLayerMode","downloadManager","DownloadManager","enableWebGL","setViewer","on","renderPdf","destroy","getDocument","cMapUrl","cMapPacked","promise","then","pdfDocument","destroyed","setDocument","catch","error","mounted","watch","_cancelRendering","render"],"mappings":"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","sourcesContent":["import getPdfjsDist from './getPdfjsDist'\r\n\r\nexport default {\r\n    name: 'Pdf',\r\n    props: {\r\n        url: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        type: {\r\n            type: String,\r\n            default: 'canvas'\r\n        },\r\n        pdfjsDistPath: {\r\n            type: String,\r\n            default: '.'\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            pdfViewer: null,\r\n            pdfLinkService: null,\r\n            currentScale: 'page-width',\r\n            loadingTask: null\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        onPagesInit({ source }) {\r\n            source.currentScaleValue = this.currentScale\r\n        },\r\n        async pdfLibInit() {\r\n            let pdfjsLib = window.pdfjsLib;\r\n            let pdfjsViewer = window.pdfjsViewer\r\n            if (!pdfjsLib || !pdfjsViewer) {\r\n                try {\r\n                    await getPdfjsDist(this.pdfjsDistPath)\r\n                    this.CMAP_URL = `${this.pdfjsDistPath}/pdf/cmaps/`;\r\n                    console.log( this.CMAP_URL)\r\n                    pdfjsLib = window.pdfjsLib;\r\n                    pdfjsLib.GlobalWorkerOptions.workerSrc = `${this.pdfjsDistPath}/pdf/build/pdf.worker.js`\r\n                    pdfjsViewer = window.pdfjsViewer\r\n                } catch (error) {\r\n                    // console.log(error)\r\n                    // pdfjs文件获取失败\r\n                    return\r\n                }\r\n            }\r\n\r\n            const container = this.$refs.container\r\n            const eventBus = new pdfjsViewer.EventBus();\r\n\r\n            // (Optionally) enable hyperlinks within PDF files.\r\n            const pdfLinkService = new pdfjsViewer.PDFLinkService({\r\n                eventBus: eventBus,\r\n            });\r\n            this.pdfLinkService = pdfLinkService\r\n            const pdfViewer = new pdfjsViewer.PDFViewer({\r\n                container: container,\r\n                eventBus: eventBus,\r\n                linkService: pdfLinkService,\r\n                renderer: this.type,\r\n                textLayerMode: 0,\r\n                downloadManager: new pdfjsViewer.DownloadManager({}),\r\n                enableWebGL: true\r\n            });\r\n            this.pdfViewer = pdfViewer\r\n            pdfLinkService.setViewer(pdfViewer);\r\n\r\n            eventBus.on(\"pagesinit\", this.onPagesInit);\r\n        },\r\n        renderPdf() {\r\n            if (!this.url) { return }\r\n            // Loading document.\r\n            if (this.pdfViewer === null || this.pdfLinkService === null) {\r\n                return\r\n            }\r\n            if (this.loadingTask !== null) {\r\n                this.loadingTask.destroy()\r\n                this.loadingTask = null\r\n            }\r\n            this.loadingTask = window.pdfjsLib.getDocument({\r\n                cMapUrl: this.CMAP_URL,\r\n                cMapPacked: true,\r\n                url: this.url,\r\n            });\r\n            return this.loadingTask.promise.then((pdfDocument) => {\r\n                if (pdfDocument.loadingTask.destroyed || !this.url) { return }\r\n                this.pdfViewer.setDocument(pdfDocument)\r\n                this.pdfLinkService.setDocument(pdfDocument, null);\r\n                this.loadingTask = null\r\n            }).catch(error => {\r\n                console.log(error)\r\n            });\r\n        }\r\n    },\r\n    mounted() {\r\n        this.pdfLibInit().then(() => {\r\n            this.renderPdf()\r\n        })\r\n    },\r\n    watch: {\r\n        url() {\r\n            // 如果存在pdfViewer则取消渲染\r\n            if (this.pdfViewer) {\r\n                this.pdfViewer._cancelRendering()\r\n            }\r\n            this.renderPdf()\r\n        }\r\n    },\r\n    render() {\r\n        return (\r\n            <div class=\"pdf-view\">\r\n                <div id=\"viewerContainer\" ref=\"container\">\r\n                    <div id=\"viewer\" class=\"pdfViewer\" />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}"]}]}