{"remainingRequest":"D:\\论文评审项目代码附带说明\\包含退回论文、论文评审人数数量变动功能\\vuereview\\node_modules\\babel-loader\\lib\\index.js!D:\\论文评审项目代码附带说明\\包含退回论文、论文评审人数数量变动功能\\vuereview\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\论文评审项目代码附带说明\\包含退回论文、论文评审人数数量变动功能\\vuereview\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\论文评审项目代码附带说明\\包含退回论文、论文评审人数数量变动功能\\vuereview\\src\\components\\Header.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\论文评审项目代码附带说明\\包含退回论文、论文评审人数数量变动功能\\vuereview\\src\\components\\Header.vue","mtime":1637997924566},{"path":"D:\\论文评审项目代码附带说明\\包含退回论文、论文评审人数数量变动功能\\vuereview\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\论文评审项目代码附带说明\\包含退回论文、论文评审人数数量变动功能\\vuereview\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\论文评审项目代码附带说明\\包含退回论文、论文评审人数数量变动功能\\vuereview\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\论文评审项目代码附带说明\\包含退回论文、论文评审人数数量变动功能\\vuereview\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCByZXF1ZXN0IGZyb20gIi4uL3V0aWxzL3JlcXVlc3QiOwppbXBvcnQgZ2xvYmFsIGZyb20gIi4uL2xheW91dC9MYXlvdXQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhlYWRlciIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICByb2xlMTogewogICAgICAgIHJvbGU6ICcnCiAgICAgIH0sCiAgICAgIG11bHRpcGxlU2VsZWN0aW9uOiBbXSAvL3JvbGUgY2hvaWNlCiAgICAgIC8vIHBhdGg6IHRoaXMuJHJvdXRlLnBhdGggIC8v6K6+572u6buY6K6k6auY5LquIOWJjemdouWPr+S7peWKoHVzZXI6e30KCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZCgpOwogIH0sCiAgbWV0aG9kczogewogICAgbG9hZDogZnVuY3Rpb24gbG9hZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciB1c2VyU3RyID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpIHx8ICJ7fSI7CiAgICAgIHRoaXMudXNlciA9IEpTT04ucGFyc2UodXNlclN0cik7IC8vIGNvbnN0IGlkID0gcGFyc2VJbnQodGhpcy51c2VyKQoKICAgICAgY29uc29sZS5sb2codGhpcy51c2VyLnVzZXJuYW1lKTsgLy9sZXQgaWQ9MQoKICAgICAgcmVxdWVzdC5nZXQoIi9yb2xlYWxsb2NhdGlvbiIsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGVtcGxveWVlSWQ6IHRoaXMudXNlci51c2VybmFtZQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAnMCcpIHsKICAgICAgICAgIF90aGlzLmR0YWJsZURhdGEgPSByZXMuZGF0YTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHRoaXMucm9sZTEucm9sZSA9IHRoaXMubXVsdGlwbGVTZWxlY3Rpb25bMF0ubmFtZTsKICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgicm9sZSIsIEpTT04uc3RyaW5naWZ5KHRoaXMucm9sZTEpKTsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICBtZXNzYWdlOiAi6KeS6Imy5L+u5pS55oiQ5YqfIgogICAgICB9KTsKICAgICAgZ2xvYmFsLm1ldGhvZHMucmVsb2FkKCk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7CiAgICB9LAogICAgc2VsZWN0OiBmdW5jdGlvbiBzZWxlY3Qoc2VsZWN0aW9uLCByb3cpIHsKICAgICAgaWYgKHNlbGVjdGlvbi5sZW5ndGggPiAxKSB7CiAgICAgICAgdmFyIGRlbF9yb3cgPSBzZWxlY3Rpb24uc2hpZnQoKTsKICAgICAgICB0aGlzLiRyZWZzLm11bHRpcGxlVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKGRlbF9yb3csIGZhbHNlKTsgLy8gdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgLy8gICB0eXBlOiAiZXJyb3IiLAogICAgICAgIC8vICAgbWVzc2FnZTogIuW3sumAieaLqei2hei/h+S4ieS9jeivhOWuoeS4k+Wutu+8gSIKICAgICAgICAvLyB9KQogICAgICB9CiAgICB9LAogICAgc2VsZWN0QWxsOiBmdW5jdGlvbiBzZWxlY3RBbGwoc2VsZWN0aW9uKSB7CiAgICAgIGlmIChzZWxlY3Rpb24ubGVuZ3RoID4gMSkgewogICAgICAgIHNlbGVjdGlvbi5sZW5ndGggPSAxOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTZWxlY3Rpb25DaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24gPSB2YWw7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMubXVsdGlwbGVTZWxlY3Rpb24pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["D:\\论文评审项目代码附带说明\\包含退回论文、论文评审人数数量变动功能\\vuereview\\src\\components\\Header.vue"],"names":[],"mappings":";AA0DA,OAAO,OAAP,MAAoB,kBAApB;AACA,OAAO,MAAP,MAAmB,kBAAnB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,QADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,aAAa,EAAC,KADT;AAEL,MAAA,KAAK,EAAC;AACJ,QAAA,IAAI,EAAC;AADD,OAFD;AAKL,MAAA,iBAAiB,EAAE,EALd,CAKiB;AACtB;;AANK,KAAP;AAQD,GAXY;AAYb,EAAA,OAZa,qBAYH;AACR,SAAK,IAAL;AACD,GAdY;AAeb,EAAA,OAAO,EAAC;AACN,IAAA,IADM,kBACA;AAAA;;AACJ,UAAI,OAAM,GAAI,cAAc,CAAC,OAAf,CAAuB,MAAvB,KAAkC,IAAhD;AACA,WAAK,IAAL,GAAY,IAAI,CAAC,KAAL,CAAW,OAAX,CAAZ,CAFI,CAGJ;;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,KAAK,IAAL,CAAU,QAAtB,EAJI,CAMJ;;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,iBAAZ,EAA8B;AAC5B,QAAA,MAAM,EAAE;AACN,UAAA,UAAU,EAAE,KAAK,IAAL,CAAU;AADhB;AADoB,OAA9B,EAIG,IAJH,CAIQ,UAAA,GAAE,EAAI;AACZ,QAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;;AACA,YAAG,GAAG,CAAC,IAAJ,KAAW,GAAd,EAAmB;AACjB,UAAA,KAAI,CAAC,UAAL,GAAgB,GAAG,CAAC,IAApB;AACF;AACD,OATD;AAUD,KAlBK;AAoBN,IAAA,IApBM,kBAoBA;AACJ,WAAK,KAAL,CAAW,IAAX,GAAkB,KAAK,iBAAL,CAAuB,CAAvB,EAA0B,IAA5C;AACA,MAAA,cAAc,CAAC,OAAf,CAAuB,MAAvB,EAA8B,IAAI,CAAC,SAAL,CAAe,KAAK,KAApB,CAA9B;AACA,WAAK,aAAL,GAAmB,KAAnB;AACA,WAAK,QAAL,CAAc;AACZ,QAAA,IAAI,EAAE,SADM;AAEZ,QAAA,OAAO,EAAE;AAFG,OAAd;AAIA,MAAA,MAAM,CAAC,OAAP,CAAe,MAAf;AACA,WAAK,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACD,KA9BK;AA+BN,IAAA,MA/BM,kBA+BC,SA/BD,EA+BY,GA/BZ,EA+BiB;AACrB,UAAI,SAAS,CAAC,MAAV,GAAmB,CAAvB,EAA0B;AACxB,YAAI,OAAM,GAAI,SAAS,CAAC,KAAV,EAAd;AACA,aAAK,KAAL,CAAW,aAAX,CAAyB,kBAAzB,CAA4C,OAA5C,EAAqD,KAArD,EAFwB,CAGxB;AACA;AACA;AACA;AACF;AACD,KAxCK;AAyCN,IAAA,SAzCM,qBAyCI,SAzCJ,EAyCc;AAClB,UAAI,SAAS,CAAC,MAAV,GAAmB,CAAvB,EAA0B;AACxB,QAAA,SAAS,CAAC,MAAV,GAAmB,CAAnB;AAEF;AAED,KA/CK;AAgDN,IAAA,qBAhDM,iCAgDgB,GAhDhB,EAgDqB;AACzB,WAAK,iBAAL,GAAyB,GAAzB;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,KAAK,iBAAjB;AACD;AAnDK;AAfK,CAAf","sourcesContent":["<template>\n  <div style=\"height:50px;line-height:50px;border-bottom:1px solid #ccc;display:flex\">\n    <div style=\"width:200px; padding-left: 30px;font-weight:bold;color:dodgerblue\">后台管理</div>\n    <div style=\"flex:1\"></div>\n    <div style=\"width:150px\">\n      <el-dropdown>\n        <span class=\"el-dropdown-link\" >\n            {{user.username}}\n          <i class=\"el-icon-arrow-down el-icon--right\"></i>\n        </span>\n        <template #dropdown>\n          <el-dropdown-menu>\n            <el-dropdown-item @click=\"dialogVisible = true\">角色选择</el-dropdown-item>\n\n            <el-dropdown-item @click=\"$router.push('/login')\" divided>退出系统</el-dropdown-item>\n          </el-dropdown-menu>\n        </template>\n\n      </el-dropdown>\n    </div>\n\n  </div>\n  <el-dialog v-model=\"dialogVisible\"\n             title=\"角色选择\"\n             width=\"450px\"\n             height=\"600px\">\n    <el-table :data=\"dtableData\"\n              ref=\"multipleTable\"\n              border\n              style=\"width: 100%\"\n              @selection-change=\"handleSelectionChange\"\n              @select=\"select\"\n              @select-all=\"selectAll\">\n\n      <el-table-column\n          type=\"selection\"\n          width=\"55\">\n      </el-table-column>\n      <el-table-column prop=\"name\" label=\"角色\"  />\n\n      <!--                <el-table-column prop=\"grade\" label=\"评分\"  >-->\n      <!--                  &lt;!&ndash; vue2.6后自定义列放弃了slot-scope插槽(网上相关的方法会导致控件显示不了），改用v-slot，这里用了简化版，让没有input和每行数据绑定 &ndash;&gt;-->\n      <!--                  &lt;!&ndash; 搜素： vue3使用element-plus的自定义列表格&ndash;&gt;-->\n      <!--                  <template #default=\"scope\">-->\n      <!--                    <el-input v-model=\"scope.row.grade\"></el-input>-->\n      <!--                  </template>-->\n<!--                      </el-table-column>-->\n    </el-table>\n    <template #footer>\n          <span class=\"dialog-footer\">\n            <el-button @click=\"dialogVisible = false\">取消</el-button>\n            <el-button type=\"primary\" @click=\"save\">确定</el-button>\n          </span>\n    </template>\n  </el-dialog>\n</template>\n\n<script>\nimport request from \"../utils/request\";\nimport global from \"../layout/Layout\"\n\nexport default {\n  name: \"Header\",\n  data() {\n    return {\n      dialogVisible:false,\n      role1:{\n        role:''\n      },\n      multipleSelection: [],//role choice\n      // path: this.$route.path  //设置默认高亮 前面可以加user:{}\n    }\n  },\n  created() {\n    this.load()\n  },\n  methods:{\n    load(){\n      let userStr = sessionStorage.getItem(\"user\") || \"{}\"\n      this.user = JSON.parse(userStr)\n      // const id = parseInt(this.user)\n      console.log(this.user.username)\n\n      //let id=1\n      request.get(\"/roleallocation\",{\n        params: {\n          employeeId: this.user.username\n        }\n      }).then(res =>{\n        console.log(res)\n        if(res.code==='0') {\n          this.dtableData=res.data\n        }\n      })\n    },\n\n    save(){\n      this.role1.role = this.multipleSelection[0].name\n      sessionStorage.setItem(\"role\",JSON.stringify(this.role1))\n      this.dialogVisible=false\n      this.$message({\n        type: \"success\",\n        message: \"角色修改成功\"\n      })\n      global.methods.reload()\n      this.$router.push(\"/\")\n    },\n    select(selection, row) {\n      if (selection.length > 1) {\n        let del_row = selection.shift()\n        this.$refs.multipleTable.toggleRowSelection(del_row, false)\n        // this.$message({\n        //   type: \"error\",\n        //   message: \"已选择超过三位评审专家！\"\n        // })\n      }\n    },\n    selectAll(selection){\n      if (selection.length > 1) {\n        selection.length = 1\n\n      }\n\n    },\n    handleSelectionChange(val) {\n      this.multipleSelection = val;\n      console.log(this.multipleSelection)\n    },\n\n  }\n}\n\n\n\n\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":""}]}